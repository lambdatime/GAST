@using Combres.Mvc
<!DOCTYPE html>
<html lang="en">
<head>
    <title>@ViewBag.Title</title>
    @Url.CombresLink("siteCss")
    @Url.CombresLink("siteJs")

</head>
    <body onload="prettyPrint()">
        <div id="header"class="row-fluid">
            <div class="span12">
                <div class="row-fluid">
                    <div id="title" class="span9"><h1>The Great Amercan Solr Trackr</h1>
                        <h6>(If you don't like it, you're in Al Qaeda)</h6>
                    </div>
                    <div id="logindisplay" class="span3">
                        <div class="pull-right">@Html.Partial("_LogOnPartial")</div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div id="menucontainer" class="span12">
                        <div class="navbar">
                            <div class="navbar-inner">
                                <ul id="menu" class="nav pull-right">
                                    <li class="active">@Html.ActionLink("Home", "Index", "Home")</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="main" class="row-fluid">
            <div class="offset1 span10">@RenderBody()</div>
            <div class="offset1"></div>
        </div>
        <div id="footer" class="row-fluid">
            <div class="span12"></div>
        </div>
    
        <script type="text/javascript">
            $(function () {
                $('span.field-validation-valid, span.field-validation-error').each(function () {
                    $(this).addClass('help-inline');
                });

                $('form').submit(function () {
                    if ($(this).valid()) {
                        $(this).find('div.control-group').each(function () {
                            if ($(this).find('span.field-validation-error').length == 0) {
                                $(this).removeClass('error');
                            }
                        });
                    }
                    else {
                        $(this).find('div.control-group').each(function () {
                            if ($(this).find('span.field-validation-error').length > 0) {
                                $(this).addClass('error');
                            }
                        });
                    }
                });


                $('form').each(function () {
                    $(this).find('div.control-group').each(function () {
                        if ($(this).find('span.field-validation-error').length > 0) {
                            $(this).addClass('error');
                        }
                    });
                });

            });

            var page = function () {
                //Update that validator
                $.validator.setDefaults({
                    highlight: function (element) {
                        $(element).closest(".control-group").addClass("error");
                    },
                    unhighlight: function (element) {
                        $(element).closest(".control-group").removeClass("error");
                    }
                });
            } ();
        </script>
    </body>
</html>
